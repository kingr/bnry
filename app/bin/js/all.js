function setActiveImgPos(element,index){element.id==activeImg.id&&(activeImgPos=index)}function toggleClick(val){"left"==val?TweenMax.to("#img",.5,{opacity:0,onComplete:previousImg}):TweenMax.to("#img",.5,{opacity:0,onComplete:nextImg})}var xhttp=new XMLHttpRequest,data={},activeImg={},activeImgPos=0;xhttp.onreadystatechange=function(){4==xhttp.readyState&&200==xhttp.status&&(data=JSON.parse(xhttp.responseText),activeImg=data[0],data.forEach(setActiveImgPos),document.getElementById("img").src=activeImg.src,document.getElementById("img-desc").innerHTML="Description: "+activeImg.desc)},xhttp.open("GET","/data"),xhttp.send();var nextImg=function(){loadingStart();var img=document.getElementById("img");if(activeImgPos+1==data.length)activeImg=data[0],img.src=data[0].src;else{var newImagePos=activeImgPos+1;activeImg=data[newImagePos],img.src=data[newImagePos].src}document.getElementById("img-desc").innerHTML="Description: "+activeImg.desc,data.forEach(setActiveImgPos)},previousImg=function(){loadingStart();var img=document.getElementById("img");if(0==activeImgPos)activeImg=data[data.length-1],img.src=data[data.length-1].src;else{var newImagePos=activeImgPos-1;activeImg=data[newImagePos],img.src=data[newImagePos].src}document.getElementById("img-desc").innerHTML="Description: "+activeImg.desc,data.forEach(setActiveImgPos)},hover=function(val){"right"==val?activeImgPos+1==data.length?(document.getElementById("preview-right").innerHTML=data[0].desc,document.getElementById("preview-right-wrapper").style.display="block"):(document.getElementById("preview-right").innerHTML=data[activeImgPos+1].desc,document.getElementById("preview-right-wrapper").style.display="block"):0==activeImgPos?(document.getElementById("preview-left").innerHTML=data[data.length-1].desc,document.getElementById("preview-left-wrapper").style.display="block"):(document.getElementById("preview-left").innerHTML=data[activeImgPos-1].desc,document.getElementById("preview-left-wrapper").style.display="block")},mouseleave=function(val){"right"==val?document.getElementById("preview-right-wrapper").style.display="none":document.getElementById("preview-left-wrapper").style.display="none"},loadingDone=function(){document.getElementById("spinner-wrapper").style.display="none",TweenMax.to("#img",2,{opacity:1}),document.getElementById("image-count").innerHTML=activeImgPos+1},loadingStart=function(){document.getElementById("spinner-wrapper").style.display="block",TweenMax.to("#img",2,{opacity:0})};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsic2V0QWN0aXZlSW1nUG9zIiwiZWxlbWVudCIsImluZGV4IiwiaWQiLCJhY3RpdmVJbWciLCJhY3RpdmVJbWdQb3MiLCJ0b2dnbGVDbGljayIsInZhbCIsIlR3ZWVuTWF4IiwidG8iLCJvcGFjaXR5Iiwib25Db21wbGV0ZSIsInByZXZpb3VzSW1nIiwibmV4dEltZyIsInhodHRwIiwiWE1MSHR0cFJlcXVlc3QiLCJkYXRhIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsImZvckVhY2giLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic3JjIiwiaW5uZXJIVE1MIiwiZGVzYyIsIm9wZW4iLCJzZW5kIiwibG9hZGluZ1N0YXJ0IiwiaW1nIiwibGVuZ3RoIiwibmV3SW1hZ2VQb3MiLCJob3ZlciIsInN0eWxlIiwiZGlzcGxheSIsIm1vdXNlbGVhdmUiLCJsb2FkaW5nRG9uZSJdLCJtYXBwaW5ncyI6IkFBaUJBLFFBQUFBLGlCQUFBQyxRQUFBQyxPQUNBRCxRQUFBRSxJQUFBQyxVQUFBRCxLQUFBRSxhQUFBSCxPQUlBLFFBQUFJLGFBQUFDLEtBQ0EsUUFBQUEsSUFDQUMsU0FBQUMsR0FBQSxPQUFBLElBQUFDLFFBQUEsRUFBQUMsV0FBQUMsY0FFQUosU0FBQUMsR0FBQSxPQUFBLElBQUFDLFFBQUEsRUFBQUMsV0FBQUUsVUExQkEsR0FBQUMsT0FBQSxHQUFBQyxnQkFDQUMsUUFDQVosYUFDQUMsYUFBQSxDQUVBUyxPQUFBRyxtQkFBQSxXQUNBLEdBQUFILE1BQUFJLFlBQUEsS0FBQUosTUFBQUssU0FDQUgsS0FBQUksS0FBQUMsTUFBQVAsTUFBQVEsY0FDQWxCLFVBQUFZLEtBQUEsR0FDQUEsS0FBQU8sUUFBQXZCLGlCQUNBd0IsU0FBQUMsZUFBQSxPQUFBQyxJQUFBdEIsVUFBQXNCLElBQ0FGLFNBQUFDLGVBQUEsWUFBQUUsVUFBQSxnQkFBQXZCLFVBQUF3QixPQUdBZCxNQUFBZSxLQUFBLE1BQUEsU0FDQWYsTUFBQWdCLE1BZ0JBLElBQUFqQixTQUFBLFdBQ0FrQixjQUNBLElBQUFDLEtBQUFSLFNBQUFDLGVBQUEsTUFDQSxJQUFBcEIsYUFBQSxHQUFBVyxLQUFBaUIsT0FDQTdCLFVBQUFZLEtBQUEsR0FDQWdCLElBQUFOLElBQUFWLEtBQUEsR0FBQVUsUUFDQSxDQUNBLEdBQUFRLGFBQUE3QixhQUFBLENBQ0FELFdBQUFZLEtBQUFrQixhQUNBRixJQUFBTixJQUFBVixLQUFBa0IsYUFBQVIsSUFFQUYsU0FBQUMsZUFBQSxZQUFBRSxVQUFBLGdCQUFBdkIsVUFBQXdCLEtBQ0FaLEtBQUFPLFFBQUF2QixrQkFFQVksWUFBQSxXQUNBbUIsY0FDQSxJQUFBQyxLQUFBUixTQUFBQyxlQUFBLE1BQ0EsSUFBQSxHQUFBcEIsYUFDQUQsVUFBQVksS0FBQUEsS0FBQWlCLE9BQUEsR0FDQUQsSUFBQU4sSUFBQVYsS0FBQUEsS0FBQWlCLE9BQUEsR0FBQVAsUUFDQSxDQUNBLEdBQUFRLGFBQUE3QixhQUFBLENBQ0FELFdBQUFZLEtBQUFrQixhQUNBRixJQUFBTixJQUFBVixLQUFBa0IsYUFBQVIsSUFFQUYsU0FBQUMsZUFBQSxZQUFBRSxVQUFBLGdCQUFBdkIsVUFBQXdCLEtBQ0FaLEtBQUFPLFFBQUF2QixrQkFLQW1DLE1BQUEsU0FBQTVCLEtBQ0EsU0FBQUEsSUFDQUYsYUFBQSxHQUFBVyxLQUFBaUIsUUFDQVQsU0FBQUMsZUFBQSxpQkFBQUUsVUFBQVgsS0FBQSxHQUFBWSxLQUNBSixTQUFBQyxlQUFBLHlCQUFBVyxNQUFBQyxRQUFBLFVBRUFiLFNBQUFDLGVBQUEsaUJBQUFFLFVBQUFYLEtBQUFYLGFBQUEsR0FBQXVCLEtBQ0FKLFNBQUFDLGVBQUEseUJBQUFXLE1BQUFDLFFBQUEsU0FHQSxHQUFBaEMsY0FDQW1CLFNBQUFDLGVBQUEsZ0JBQUFFLFVBQUFYLEtBQUFBLEtBQUFpQixPQUFBLEdBQUFMLEtBQ0FKLFNBQUFDLGVBQUEsd0JBQUFXLE1BQUFDLFFBQUEsVUFFQWIsU0FBQUMsZUFBQSxnQkFBQUUsVUFBQVgsS0FBQVgsYUFBQSxHQUFBdUIsS0FDQUosU0FBQUMsZUFBQSx3QkFBQVcsTUFBQUMsUUFBQSxVQU9BQyxXQUFBLFNBQUEvQixLQUNBLFNBQUFBLElBQ0FpQixTQUFBQyxlQUFBLHlCQUFBVyxNQUFBQyxRQUFBLE9BRUFiLFNBQUFDLGVBQUEsd0JBQUFXLE1BQUFDLFFBQUEsUUFJQUUsWUFBQSxXQUNBZixTQUFBQyxlQUFBLG1CQUFBVyxNQUFBQyxRQUFBLE9BQ0E3QixTQUFBQyxHQUFBLE9BQUEsR0FBQUMsUUFBQSxJQUNBYyxTQUFBQyxlQUFBLGVBQUFFLFVBQUF0QixhQUFBLEdBR0EwQixhQUFBLFdBQ0FQLFNBQUFDLGVBQUEsbUJBQUFXLE1BQUFDLFFBQUEsUUFDQTdCLFNBQUFDLEdBQUEsT0FBQSxHQUFBQyxRQUFBIiwiZmlsZSI6ImFsbC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciB4aHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xudmFyIGRhdGEgPSB7fTtcbnZhciBhY3RpdmVJbWcgPSB7fTtcbnZhciBhY3RpdmVJbWdQb3MgPSAwO1xuXG54aHR0cC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoeGh0dHAucmVhZHlTdGF0ZSA9PSA0ICYmIHhodHRwLnN0YXR1cyA9PSAyMDApIHtcbiAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoeGh0dHAucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgYWN0aXZlSW1nID0gZGF0YVswXTtcbiAgICAgICAgZGF0YS5mb3JFYWNoKHNldEFjdGl2ZUltZ1Bvcyk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWcnKS5zcmMgPSBhY3RpdmVJbWcuc3JjO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nLWRlc2MnKS5pbm5lckhUTUwgPSAnRGVzY3JpcHRpb246ICcgKyBhY3RpdmVJbWcuZGVzYztcbiAgICB9XG59O1xueGh0dHAub3BlbignR0VUJywgJy9kYXRhJyk7XG54aHR0cC5zZW5kKCk7XG5cbmZ1bmN0aW9uIHNldEFjdGl2ZUltZ1BvcyhlbGVtZW50LCBpbmRleCkge1xuICAgIGlmKGVsZW1lbnQuaWQgPT0gYWN0aXZlSW1nLmlkKSBhY3RpdmVJbWdQb3MgPSBpbmRleDtcbn1cblxuLy8gY2xpY2sgYnV0dG9uc1xuZnVuY3Rpb24gdG9nZ2xlQ2xpY2sodmFsKSB7XG4gICAgaWYgKHZhbCA9PSAnbGVmdCcpIHtcbiAgICAgICAgVHdlZW5NYXgudG8oJyNpbWcnLCAwLjUsIHtvcGFjaXR5OiAwLCBvbkNvbXBsZXRlOiBwcmV2aW91c0ltZ30pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIFR3ZWVuTWF4LnRvKCcjaW1nJywgMC41LCB7b3BhY2l0eTogMCwgb25Db21wbGV0ZTogbmV4dEltZ30pO1xuICAgIH1cbn1cblxuLy8gbG9hZCBuZXcgaW1hZ2VzXG52YXIgbmV4dEltZyA9IGZ1bmN0aW9uKCkge1xuICAgIGxvYWRpbmdTdGFydCgpO1xuICAgIHZhciBpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nJyk7XG4gICAgaWYgKGFjdGl2ZUltZ1BvcyArIDEgPT0gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgYWN0aXZlSW1nID0gZGF0YVswXTtcbiAgICAgICAgaW1nLnNyYyA9IGRhdGFbMF0uc3JjO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBuZXdJbWFnZVBvcyA9IGFjdGl2ZUltZ1BvcyArIDE7XG4gICAgICAgIGFjdGl2ZUltZyA9IGRhdGFbbmV3SW1hZ2VQb3NdO1xuICAgICAgICBpbWcuc3JjID0gZGF0YVtuZXdJbWFnZVBvc10uc3JjO1xuICAgIH1cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nLWRlc2MnKS5pbm5lckhUTUwgPSAnRGVzY3JpcHRpb246ICcgKyBhY3RpdmVJbWcuZGVzYztcbiAgICBkYXRhLmZvckVhY2goc2V0QWN0aXZlSW1nUG9zKTtcbn07XG52YXIgcHJldmlvdXNJbWcgPSBmdW5jdGlvbigpIHtcbiAgICBsb2FkaW5nU3RhcnQoKTtcbiAgICB2YXIgaW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZycpO1xuICAgIGlmIChhY3RpdmVJbWdQb3MgPT0gMCkge1xuICAgICAgICBhY3RpdmVJbWcgPSBkYXRhW2RhdGEubGVuZ3RoLTFdO1xuICAgICAgICBpbWcuc3JjID0gZGF0YVtkYXRhLmxlbmd0aC0xXS5zcmM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG5ld0ltYWdlUG9zID0gYWN0aXZlSW1nUG9zIC0gMTtcbiAgICAgICAgYWN0aXZlSW1nID0gZGF0YVtuZXdJbWFnZVBvc107XG4gICAgICAgIGltZy5zcmMgPSBkYXRhW25ld0ltYWdlUG9zXS5zcmM7XG4gICAgfVxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWctZGVzYycpLmlubmVySFRNTCA9ICdEZXNjcmlwdGlvbjogJyArIGFjdGl2ZUltZy5kZXNjO1xuICAgIGRhdGEuZm9yRWFjaChzZXRBY3RpdmVJbWdQb3MpO1xuXG59O1xuXG4vLyBob3ZlclxudmFyIGhvdmVyID0gZnVuY3Rpb24odmFsKSB7XG4gICAgaWYgKHZhbCA9PSAncmlnaHQnKSB7XG4gICAgICAgIGlmIChhY3RpdmVJbWdQb3MgKyAxID09IGRhdGEubGVuZ3RoKXtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmV2aWV3LXJpZ2h0JykuaW5uZXJIVE1MID0gZGF0YVswXS5kZXNjO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXctcmlnaHQtd3JhcHBlcicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXctcmlnaHQnKS5pbm5lckhUTUwgPSBkYXRhW2FjdGl2ZUltZ1BvcysxXS5kZXNjO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXctcmlnaHQtd3JhcHBlcicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGFjdGl2ZUltZ1BvcyA9PSAwKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJldmlldy1sZWZ0JykuaW5uZXJIVE1MID0gZGF0YVtkYXRhLmxlbmd0aC0xXS5kZXNjO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXctbGVmdC13cmFwcGVyJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJldmlldy1sZWZ0JykuaW5uZXJIVE1MID0gZGF0YVthY3RpdmVJbWdQb3MtMV0uZGVzYztcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmV2aWV3LWxlZnQtd3JhcHBlcicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn07XG5cbnZhciBtb3VzZWxlYXZlID0gZnVuY3Rpb24odmFsKXtcbiAgICBpZiAodmFsID09ICdyaWdodCcpIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXctcmlnaHQtd3JhcHBlcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXctbGVmdC13cmFwcGVyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG59O1xuXG52YXIgbG9hZGluZ0RvbmUgPSBmdW5jdGlvbigpe1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGlubmVyLXdyYXBwZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIFR3ZWVuTWF4LnRvKCcjaW1nJywgMiwge29wYWNpdHk6IDF9KTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1hZ2UtY291bnQnKS5pbm5lckhUTUwgPSBhY3RpdmVJbWdQb3MrMTtcbn07XG5cbnZhciBsb2FkaW5nU3RhcnQgPSBmdW5jdGlvbigpe1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGlubmVyLXdyYXBwZXInKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICBUd2Vlbk1heC50bygnI2ltZycsIDIsIHtvcGFjaXR5OiAwfSk7XG59OyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
